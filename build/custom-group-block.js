(()=>{"use strict";const t=wp.compose,e=wp.element,a=wp.blockEditor,r=wp.components,o=wp.hooks,l=[{label:"Post/Page Permalink",value:"{{post_permalink}}"},{label:"Post/Page Title",value:"{{post_title}}"},{label:"Post/Page ID",value:"{{post_id}}"},{label:"Author Name",value:"{{author_name}}"},{label:"Current Date",value:"{{current_date}}"}];(0,o.addFilter)("blocks.registerBlockType","custom-attributes/custom-group-block",(function(t,e){return"core/group"!==e?t:{...t,attributes:{...t.attributes,dataAttributes:{type:"array",default:[]},customId:{type:"string",default:""}}}}));const n=(0,t.createHigherOrderComponent)((t=>o=>{if("core/group"!==o.name)return React.createElement(t,o);const{attributes:n,setAttributes:c}=o,{dataAttributes:u,customId:s}=n,i=(t,e,a)=>{const r=[...u];r[t]={...r[t],[e]:a},c({dataAttributes:r})};return React.createElement(e.Fragment,null,React.createElement(t,o),React.createElement(a.InspectorControls,null,React.createElement(r.PanelBody,{title:"Custom HTML Attributes",initialOpen:!1},React.createElement("div",{className:"custom-attributes-panel"},u.map(((t,e)=>React.createElement("div",{key:e,className:"custom-attribute-row",style:{marginBottom:"20px",padding:"10px",border:"1px solid #ddd"}},React.createElement(r.TextControl,{label:"Attribute Name",value:t.name,onChange:t=>i(e,"name",t),style:{marginBottom:"5px"}}),React.createElement(r.TextControl,{label:"Attribute Value",value:t.value,onChange:t=>i(e,"value",t)}),React.createElement(r.SelectControl,{label:"Insert Dynamic Value",value:"",options:[{label:"Select...",value:""},...l],onChange:t=>{t&&((t,e)=>{const a=u[t].value;i(t,"value",a+e)})(e,t)}}),React.createElement(r.Button,{isDestructive:!0,onClick:()=>(t=>{const e=u.filter(((e,a)=>a!==t));c({dataAttributes:e})})(e),variant:"secondary",style:{marginTop:"5px"}},"Remove")))),React.createElement(r.Button,{variant:"secondary",onClick:()=>{c({dataAttributes:[...u,{name:"",value:"",isDynamic:!1}]})},style:{marginTop:"10px"}},"Add Attribute")),React.createElement(r.TextControl,{label:"Custom ID",help:"Enter a unique identifier",value:s,onChange:t=>c({customId:t})}))))}),"withInspectorControls");(0,o.addFilter)("editor.BlockEdit","custom-attributes/with-inspector-controls",n),(0,o.addFilter)("blocks.getSaveContent.extraProps","custom-attributes/add-custom-attributes",(function(t,e,a){if("core/group"!==e.name)return t;const{dataAttributes:r,customId:o}=a;return r.forEach((e=>{if(e.name&&e.value){const a=e.name.trim(),r=e.value.trim();t[a]=r}})),o&&(t.id=o),t}))})();